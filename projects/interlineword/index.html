<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./interline.css">
    <title>Interline Word</title>
    <link rel="stylesheet" href="/projects/Whitespace/styles/base.css">
    <link rel="stylesheet" href="/styles/footer.css">
    <meta name="theme-color" content="#08e79d">
    <meta name="msapplication-navbutton-color" content="#08e79d">
    <link rel="shortcut icon" href="favicon.png" type="image/png">
    <script src="../Whitespace/csjs/index.js"></script>
    <script>
        if (localStorage.getItem('wsf://interlineword/index.sys') == null || localStorage.getItem('wsf://interlineword/index.sys') == 'null') {
            localStorage.setItem('wsf://interlineword/index.sys', '')
        }
    </script>
    <style>
        ::selection {
            background: #08e79d;
            color: black;
        }

        ::-moz-selection {
            background: #08e79d;
            color: black;
        }

        ::-webkit-selection {
            background: #08e79d;
            color: black;
        }

        div.tools {
            background-color: #00000000;
        }

        div.files {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 10cm;
            height: 10cm;
            padding: 10px;
            border-radius: 10px;
            background-color: rgb(0, 0, 0);
            box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);
            overflow-y: scroll;
            color: #08e79d;
        }

        button.filebutton {
            border-width: 0px;
            border-radius: 5px;
            padding: 5px;
            min-width: 4cm;
            background-color: #08e79d5e;
            color: black;
            margin-bottom: 5px;
        }


        button.ui {
            border-radius: 12pt;
            margin-left: 10px;
        }
    </style>
    <script>
        function scuts() {
            document.getElementById('text').value = document.getElementById('text').value.replaceAll('::LoremImpsum::', "Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.At vero eos et accusam et justo duo dolores et ea rebum.Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.At vero eos et accusam et justo duo dolores et ea rebum.Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.")
        }

        function wsfdelilw(fname) {
            localStorage.removeItem('wsf://interlineword/' + fname + '.itw')
            localStorage.setItem('wsf://interlineword/index.sys', localStorage.getItem('wsf://interlineword/index.sys').replace('<button onclick=openlistilt("' + fname + '") class=filebutton>' + fname + '.itw</button><img src=delete.png height=12 onclick=wsfdelilw(\'' + fname + '\')><br>', ''))
            document.getElementById('files').hidden = true;
        }

        function hfp() {
            document.getElementById('title').hidden = true;
            document.getElementById('tools').hidden = true;
            document.getElementById('credits').hidden = true;
        }

        function sfp() {
            document.getElementById('title').hidden = false;
            document.getElementById('tools').hidden = false;
            document.getElementById('credits').hidden = false;
        }

        function wsf() {
            if (setfurl() != null) {
                var filename = setfurl()
            }
            else {
                var filename = prompt('File Name');
                var act = filename
            }
            if (filename == '') {
                var filename = 'unamed'
            }
            if (localStorage.getItem('wsf://interlineword/' + filename + '.itw') != null) {
                if (confirm('Replace?') == true) {
                    wsfdelilw(filename)
                    localStorage.setItem('wsf://interlineword/index.sys', localStorage.getItem('wsf://interlineword/index.sys') + '<button onclick=openlistilt("' + filename + '") class=filebutton>' + filename + '.itw</button><img src=delete.png height=12 onclick="wsfdelilw(\'' + filename + '\')"><br>')
                    localStorage.setItem('wsf://interlineword/' + filename + '.itw', escape(document.getElementById('text').value))
                }
                else {

                }
            }
            else {
                wsfdelilw(filename)
                localStorage.setItem('wsf://interlineword/index.sys', localStorage.getItem('wsf://interlineword/index.sys') + '<button onclick=openlistilt("' + filename + '") class=filebutton>' + filename + '.itw</button><img src=delete.png height=12 onclick=wsfdelilw(\'' + filename + '\')><br>')
                localStorage.setItem('wsf://interlineword/' + filename + '.itw', escape(document.getElementById('text').value))
            }

        }

        function openwsf() {
            document.getElementById('files').hidden = false;
            if (localStorage.getItem('wsf://interlineword/index.sys') != '') {
                document.getElementById('flist').innerHTML = localStorage.getItem('wsf://interlineword/index.sys')
            }
            else {
                document.getElementById('flist').innerHTML = 'No Files'
            }
        }

        function openlistilt(fname) {
            document.getElementById('text').value = unescape(localStorage.getItem('wsf://interlineword/' + fname + '.itw'))
            document.getElementById('files').hidden = true;
        }

        function setfurl() {
            var url_string = location.href
            var url = new URL(url_string);
            var c = url.searchParams.get("value");
            return c;
        }
        function downloadtxt() {
            newWindow = window.open("data:application/octet-stream," + encodeURIComponent(document.getElementById('text').value), 'file.txt');
        }
    </script>
</head>

<body>
    <div class="files" id="files" hidden>
        <font onclick="document.getElementById('files').hidden = true;" style="font-size: large; color: #11a373;">
                    <button class="close"></button>
        </font>
        <br><br>
        <div id="flist">
        </div>
    </div>
    <div class="name" id="title" align="center">Interline Word</div>
    <button class='ui' onclick="wsf()">Save</button><button class="ui"
            onclick="openwsf()">Open
            File</button><button class="ui" onclick="window.open('index.html', '_blank')">New</button><button class="ui" onclick="downloadtxt()">Download</button>
            <br><br>
    <div align=center class="page" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        <textarea name="text" id="text" class="text" onkeyup="scuts()"></textarea>
    </div>
<br>
<footer style="height:auto;"><a href="/privacy policy/index.html">Privacy Policy</a> | <a href="/impress/index.html">Impress</a> | <a
        href="/legal.html">Credits</a> | Made with ☕ and ❤ by Wervice | Illustrations made with <a
        href="https://icons8.com/lunacy">Lunacy</a> by <a href="https://icons8.com/">Icons8</a> | Colored icons and illustrations by
    <a href="https://www.icons8.com">Icons8</a>
</footer>

    <script>
        document.getElementById('text').value = ''
    </script>
    <script>
        if (setfurl() != null) {
            document.getElementById('text').value = unescape(localStorage.getItem('wsf://interlineword/' + setfurl() + '.itw'))
        }
    </script>
</body>

</html>