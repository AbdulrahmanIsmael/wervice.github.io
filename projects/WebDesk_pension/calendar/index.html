<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/base.css">
    <script>
        function addcalendar() {
            localStorage.setItem('calendar:events', btoa(atob(localStorage.getItem('calendar:events')).replace('ée', '') + document.getElementById('edate').value + ': ' + document.getElementById('eventname').value + '<br>'))
            location.reload()
        }

        function delevent() {
            var decoded = atob(localStorage.getItem('calendar:events'))
            var delnamebox = document.getElementById('eventname');
            var delname = delnamebox.value;
            var repto = '<font class=deleted>' + document.getElementById('edate').value + ': ' + delname + '</font>'
            var connected = decoded.replace(document.getElementById('edate').value + ': ' + delname, repto)
            var ccrypted = btoa(connected)
            localStorage.setItem('calendar:events', ccrypted)
            location.reload()
        }
    </script>
    <style>
        .deleted {
            text-decoration: line-through;
            text-decoration-color: red;
            color: darkred;
        }
    </style>
    <script>
        function cancelapp() {
            window.open(history.back(), 'window')
        }
    </script>
    <title>app://calendar</title>
</head>

<body>
    <div class="title" style="margin-bottom: 0px;"><a href="javascript:cancelapp()" target="window"><button
                class="close"></button></a> <button class="close" style="background-color: silver;"></button> <button
            class="close" style="background-color: silver;"></button>&ThickSpace;Events</div>
    <input type=date placeholder=date id=edate>
    <input type=text placeholder=Event&MediumSpace;name id=eventname><button class='ui red'
        style=width:1cm;min-width:1cm; onclick=delevent()><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
            fill="black" class="bi bi-trash-fill" viewBox="0 0 16 16">
            <path
                d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
        </svg></button>
    <button class=ui style=width:1cm;min-width:1cm; onclick=addcalendar()>+</button>|
    <button class="ui red" onclick="localStorage.removeItem('calendar:events');location.reload()">Reset</button>
    <div style="padding: 5px;">
        <script>
            document.writeln(atob(localStorage.getItem('calendar:events')).replace('ée', '<font style=font-size:15pt;color:grey;style=width:100vw; align=centera>&MediumSpace;No Events</font>'))
        </script>
    </div>

</body>

</html>